* Simple Echo Server
#+BEGIN_SRC sh
cd HttpServer
erl
c(simple_echo_server).
simple_echo_server:start(8000).

telnet 127.0.0.1 8000
foo

telnet 127.0.0.1 8000
bar

#+END_SRC

* JSON
** mochijson
#+BEGIN_SRC sh
cd JSON
erl
c(mochijson).
c(demo_json).
demo_json:run().
#+END_SRC

* BNR courses web services (for iPhone Application)
#+BEGIN_SRC sh
cd ~/Erlang/BNRCourses
erl
c(bnr_web_courses_server).
c(mochijson).
mochijson:decode(bnr_web_courses_server:raw_bnr_json_data()).
spawn(fun() -> bnr_web_courses_server:start(8080) end).
#+END_SRC

* Ranch
#+BEGIN_SRC sh
cd ~/Erlang/Ranch
cp ${Ranch}/ranch-1.0.0/src/*.erl .
cp ${Ranch}/ranch-1.0.0/examples/tcp_echo/src/*.erl .
erlc ranch_transport.erl
erlc ranch_protocol.erl
erlc -pa . *.erl

erl -sname jia@localhost
application:start(ranch).
application:start(tcp_echo).

telnet localhost 5555
some message
Hello, Erlang.
#+END_SRC

* Cowboy REST
ranch-1.0.0
cowlib-1.3.0
cowboy-master-201505-16
rest_hello_world from cowboy/examples

#+BEGIN_SRC sh
cd ~/Erlang/Cowboy/cowlib
erlc -oebin -Iinclude src/*.erl

cd ~/Erlang/Cowboy/ranch
erlc -oebin src/ranch_transport.erl
erlc -oebin -pa ebin src/*.erl

cd ~/Erlang/Cowboy/cowboy
erlc -oebin -I.. -pa ebin src/cowboy_middleware.erl
erlc -oebin -I.. -pa ebin src/cowboy_sub_protocol.erl
erlc -oebin -I.. -pa ebin src/*.erl

cd ~/Erlang/Cowboy/rest_hello_world
erlc -oebin src/*.erl

## Start rest_hello_world manually
cd ~/Erlang/Cowboy
erl -sname jia@local -pa */ebin
application:start(crypto).
application:start(cowlib).
application:start(ranch).
application:start(cowboy).
application:start(rest_hello_world).

## Test with curl
curl -i http://localhost:8080
curl -i -H "Accept: application/json" http://localhost:8080
curl -i -H "Accept: text/plain" http://localhost:8080
#+END_SRC
